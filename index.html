<!DOCTYPE html>
<html>
<head>
	<title>Star Wars Game</title>

	    <!-- Added link to the jQuery Library -->
    <script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>

    <!-- Added a link to Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
	<style>
 		body { 
 			background: url(assets/images/starWarsAltBackground.png) no-repeat;
 			background-width: 80%;
 		}
 		.container {
 			width: 100%;
 			max-width: 1690px;
 			margin: 0px auto;
 		}
 		
 		.panel {
 			margin-top: 20px;
 			background: transparent;
 			font-weight: bold;
 		}

 		#yourCharChoiceDislpay {
 			box-sizing: border-box;
 			height: 60px;
 		}
 		.char {
 			float: left;
 			margin: 0px 2px 15px 2px;
 			padding:5px;
 			background-color: #ffffff;
 			text-align: center;
 		}

 		.char img {
 			height: 110px;
 			padding: 0px 0px 0px 0px;
 			background-color: #ffffff;
 		}
 		.btn {
 			float: left;
 		}

 		h3 {
 			clear: left;
 			color: white;
 		}
 		#yourChosenCharDisplay {
 			box-sizing: border-box;
 			height: 200px;
 			float: left;
 		}
 		#enemyChosenDisplay {
 			height: 200px;
 			float: left;
 		}
 		#resultMessage {
 			color: white;
 		}

 	</style>

<body>
	<div class="container">
	<div class="col-lg-4">
		<div class="panel">
	 		<div id="yourCharChoiceDisplay">
	 			<div id="luke" class="char" value='luke'><div>Luke</div><img src=assets/images/luke.png alt="Luke Skywalker"><div class='hp'>100</div></div>
	 			<div id="obi_wan" class="char" value='obi_wan'><div>Obi-Wan</div><img src=assets/images/obi_wan.png alt="Obi-Wan"><div class='hp'>120</div></div>
	 			<div id="count_dooku" class="char" value='count_dooku'><div>Count Dooku</div><img src=assets/images/count_dooku.png alt="Count Dooku"><div class='hp'>150</div></div>
	 			<div id="yoda" class="char" value='yoda'><div>Yoda</div><img src=assets/images/yoda.png alt="Yoda"><div class='hp'>180</div></div>
	 			</div>
	 		<div><h3>Your Character</h3></div>
	 		<div id="yourChosenCharDisplay">
	 		
	 		</div>
	 		<div><h3>Enemies Available to Attack</h3></div>
	 		<div id="enemyChoiceDisplay">
	 	
	 		</div>
	 		<div><h3>Fight Section</h3></div>
	 		<div id="fightSectionDisplay"></div>
	 		<button class=btn id="attack">Attack</button>
	 		<div><h3>Defender</h3></div>
	 		<div id="enemyChosenDisplay">
	 		</div>

	 		<div id="buttons"></div>
	 		<!--<button class=btn id="clear">clear</button>-->
	 		<div id="resultMessage" color='white'><h3></h3></div>
	 		<div id="restartbtn"><button class=btn id="restart">Restart</button></div>
 		</div>
	</div>
	</div>

	<script type="text/javascript">

$(document).ready(function(){
	var chosenChar="";
	var chosenEnemy="";
	var isCharChosen=false;
	var isEnemyChosen=false;
	var chosenobj;
	var chosenEnemyobj;
	var playerHp;
	var playerAp;
	var enemyHp;
	var enemyAp;
	var enimiesDefeted=0;
	var stillPlaying=true;
		var chars = {
			luke: {
				name: 'Luke',
				hp: 100,
				attack: 6,
				href: 'assets/images/luke.png',
				image: "img src='assets/images/luke.png'",
				
				},
			obi_wan: {
				name: 'Obi-Wan',
				hp: 150,
				attack: 10,
				href: 'assets/images/obi_wan.png',
				image: 'img src=assets/images/obi_wan.png',
				
				},
			count_dooku: {
				name: 'Count Dooku',
				hp: 100,
				attack: 6,
				href: 'assets/images/count_dooku.png',
				image: 'img src=assets/images/count_dooku.png'
				
				},
			yoda: {
				name: 'Yoda',
				hp: 250,
				attack: 20,
				href: 'assets/images/yoda.png',
				image: 'img src=assets/images/yoda.png',
				
				}
			};

	//function myfunction(){

		function choosePlayersfunction(){
			if(stillPlaying){
				console.log(stillPlaying);

					$('.char').on('click', function(){
						if(!isCharChosen){
							chosenChar=$(this).attr('value');
							if(chosenChar==='luke'){
								chosenobj=(chars.luke);
									$('#obi_wan').css('background-color', 'red');
									$('#count_dooku').css('background-color', 'red');
									$('#yoda').css('background-color', 'red');}
							if(chosenChar==='obi_wan'){
								chosenobj=(chars.obi_wan);
									$('#luke').css('background-color', 'red');
									$('#count_dooku').css('background-color', 'red');
									$('#yoda').css('background-color', 'red');}
							if(chosenChar==='count_dooku'){
								chosenobj=(chars.count_dooku);
									$('#luke').css('background-color', 'red');
									$('#obi_wan').css('background-color', 'red');
									$('#yoda').css('background-color', 'red');}
							if(chosenChar==='yoda'){
								chosenobj=(chars.yoda);
									$('#luke').css('background-color', 'red');
									$('#obi_wan').css('background-color', 'red');
									$('#count_dooku').css('background-color', 'red');}

									//console.log(chosenobj);
									//console.log(chosenobj.name);
									//console.log(chosenChar);
									//console.log(this);
									//var imageSource = (chars.luke.image);
									// $('#yourCharChoiceDisplay').hide();
									$('#yourChosenCharDisplay').append(this);

									//console.log(enemy);
									//console.log(chars.luke.image);
									//console.log(chars.luke.name);
									//console.log(chosenChar.name);
									playerHp=(chosenobj.hp);
									playerAp=(chosenobj.attack);
									isCharChosen=true;
									return $(this).attr('value');
								}
						else{
							if(!isEnemyChosen){
								if($(this).attr('value')==chosenChar){
									return false;
								}
								else{
									chosenEnemy=$(this).attr('value');
									$('#fightSectionDisplay').append(this);
									//console.log(this);
										if(chosenEnemy==='luke'){
											chosenEnemyobj=(chars.luke);
										}
										if(chosenEnemy==='obi_wan'){
											chosenEnemyobj=(chars.obi_wan);
										}
										if(chosenEnemy==='count_dooku'){
											chosenEnemyobj=(chars.count_dooku);
										}
										if(chosenEnemy==='yoda'){
											chosenEnemyobj=(chars.yoda);
										}
									//console.log(chosenobj.name);
									//console.log(chosenEnemyobj);
									enemyHp=(chosenEnemyobj.hp);
									enemyAp=(chosenEnemyobj.attack);
									isEnemyChosen=true;
									//return $(this).attr('value');
								}
							}

						}
						return;
					});
					return;
				}
				return;
			}

				//Area for Attack button function
		function attackfunction(){		
						$(function() {
								$('#attack').on('click', function() {
										var tempPlayerHp=(playerHp-enemyAp);
											playerHp=tempPlayerHp;
										//console.log(tempPlayerHp);
											$('#yourChosenCharDisplay .hp').html(tempPlayerHp);
										var tempEnemyHp=(enemyHp-playerAp);
											enemyHp=tempEnemyHp;
											$('#fightSectionDisplay .hp').html(tempEnemyHp);
											$('#resultMessage').html('You attacked ' + chosenEnemyobj.name + ' for ' + playerAp + ' damage. </n> And he attacked you for ' + enemyAp + ' damage.');
											playerAp=(playerAp + enemyAp);

									if(playerHp<=0){
											endgamefunction();
									}
									else if(enemyHp<=0){
										$('#resultMessage').html('You beat him. Choose another enemy');
										$('#fightSectionDisplay').empty();
										enimiesDefeted++;
										isEnemyChosen=false;
										choosePlayersfunction();
									}
										return;
								});
							

							return;
						})  //attack section close
						return;
					}//attack function close			

			//}//if still playing close
		function resetfunction(){			
						$('#restart').on('click', function() {
							console.log('trying to restart');
								chosenChar="";
								chosenEnemy="";
								isCharChosen=false;
								isEnemyChosen=false;
								chosenobj;
								chosenEnemyobj;
								playerHp;
								playerAp;
								enemyHp;
								enemyAp;
								enimiesDefeted=0;
								stillPlaying=true;
								$('#yourCharChoiceDisplay').html('<div id="luke" class="char" value="luke"><div>Luke</div><img src=assets/images/luke.png alt="Luke Skywalker"><div class="hp">100</div></div><div id="obi_wan" class="char" value="obi_wan"><div>Obi-Wan</div><img src=assets/images/obi_wan.png alt="Obi-Wan"><div class="hp">120</div></div><div id="count_dooku" class="char" value="count_dooku"><div>Count Dooku</div><img src=assets/images/count_dooku.png alt="Count Dooku"><div class="hp">150</div></div><div id="yoda" class="char" value="yoda"><div>Yoda</div><img src=assets/images/yoda.png alt="Yoda"><div class="hp">180</div></div>');
								choosePlayersfunction();
								return;		
						})
				//choosePlayersfunction();
				return;
			}//reset function close
		function endgamefunction(){
			$('#resultMessage').html('Game Over');
			$('#fightSectionDisplay').empty();
			$('#yourChosenCharDisplay').empty();
			$('#yourCharChoiceDisplay').empty();
			stillPlaying=false;
			console.log(stillPlaying);
			$('#restartbtn').html('<button class=btn id="restart">Restart</button>');
			resetfunction();
			return;
		}// endgamefunction close	
		
	//} //my function close
	choosePlayersfunction();
	attackfunction();


});
</script>
</body>
</html>